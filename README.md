# Oracle
## Criar tabelas necessárias

Coloque seu login e senha em appsettings.json 

Passe esse código no oracle:

```sql
CREATE TABLE Processos (
    IdProcesso NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Descricao VARCHAR2(255) NOT NULL,
    Ativo CHAR(1) DEFAULT 'S',
    DataDeCadastro DATE NOT NULL,
    DhAlteracao DATE NOT NULL
);

CREATE TABLE Vistorias (
    IdVistoria NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Descricao VARCHAR2(255) NOT NULL,
    Processo NUMBER NOT NULL,
    Ativo CHAR(1) DEFAULT 'S',
    DataDeCadastro DATE NOT NULL,
    DhAlteracao DATE NOT NULL,
    FOREIGN KEY (Processo) REFERENCES Processos (IdProcesso)
);

CREATE TABLE Itens (
    IdItem NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Descricao VARCHAR2(255) NOT NULL,
    Ordem NUMBER(10) NOT NULL,
    Tipo NUMBER(1) NOT NULL,
    Ativo CHAR(1) DEFAULT 'S',
    DataDeCadastro DATE NOT NULL,
    DhAlteracao DATE NOT NULL,
    IdVistoria NUMBER(10) NOT NULL,
    FOREIGN KEY (IdVistoria) REFERENCES Vistorias (IdVistoria)
);

CREATE TABLE RespostasItens (
    IdResposta NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Resposta VARCHAR2(255) NOT NULL,
    DataDeCadastro DATE NOT NULL,
    DhAlteracao DATE NOT NULL,
    IdItem NUMBER(10) NOT NULL,
    FOREIGN KEY (IdItem) REFERENCES Itens (IdItem)
);

CREATE TABLE OpcoesItens (
    IdOpcao NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Opcao VARCHAR2(255) NOT NULL,
    DataDeCadastro DATE NOT NULL,
    DhAlteracao DATE NOT NULL,
    IdItem NUMBER(10) NOT NULL,
    FOREIGN KEY (IdItem) REFERENCES Itens (IdItem)
);

CREATE TABLE Log (
  Id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
  Timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  Operation VARCHAR2(100),
  Message VARCHAR2(200)
);
```

# API

## Itens
### GET /api/Itens
Recupera uma lista de itens.

### POST /api/Itens?idVistoria={idVistoria}
Cria um novo item.

**Body**:

```json
[
  {
    "descricao": "string",
    "ordem": 0,
    "tipo": 0,
  }
]
```
### PUT /api/Itens/{idItem}
Atualiza um item.

Parâmetros:

**idItem: int**

**Body**:
```json
{
  "descricao": "string",
  "ordem": 0,
  "tipo": 0,
}
```

### DELETE /api/Itens/{idItem}
Exclui um item.

Parâmetros:

**idItem: int**
## Opcoes

### GET /api/Opcoes
Recupera uma lista de opções.

### POST /api/Opcoes?idItem={idItem}
Cria uma nova opção.

**Body:**
```json
[
  {
    "idOpcao": 0,
    "opcao": "string",
    "idItem": 0
  }
]
```
## Processos

### GET /api/Processos
Recupera uma lista de processos.

### POST /api/Processos
Cria um novo processo.

**Body:**
```json
{
  "codProcesso": "string",
  "descricao": "string",
}
```

### PUT /api/Processos/{idProcesso}
Atualiza um processo.

Parâmetros:

**idProcesso: int**

**Body:**
```json
{
  "codProcesso": "string",
  "descricao": "string",
}
```
Respostas
200: Sucesso.

### DELETE /api/Processos/{idProcesso}
Exclui um processo.

Parâmetros:

**idProcesso: int**
## Respostas

### GET /api/Respostas
Recupera uma lista de respostas.

### POST /api/Respostas?idItem={idItem}
Cria uma nova resposta.

Parâmetros:

**idItem: int**

**Body:**
```json
[
  {
    "resposta": "string",
  }
]
```
Respostas
200: Sucesso.
## Vistorias

### GET /api/Vistorias
Recupera uma lista de vistorias.

### POST /api/Vistorias
Cria uma nova vistoria.

**Body:**
```json
{
  "codVistoria": "string",
  "descricao": "string",
  "processo": "string",
}
```
Respostas
200: Sucesso.

### PUT /api/Vistorias/{idVistoria}
Atualiza uma vistoria.

Parâmetros:

**idVistoria: int**

**Body:**
```json
{
  "codVistoria": "string",
  "descricao": "string",
  "processo": "string",
}
```

### DELETE /api/Vistorias/{idVistoria}
Exclui uma vistoria.

Parâmetros:

**idVistoria: int**
